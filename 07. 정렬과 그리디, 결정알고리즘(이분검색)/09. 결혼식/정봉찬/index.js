/*
âœ…ë¬¸ì œ ì œëª©: ê²°í˜¼ì‹

âœ…ë¬¸ì œ ìœ í˜•: ì •ë ¬

âœ…ë¬¸ì œ í’€ì´ ë‚ ì§œ: 2024-08-16

ðŸ’¡ë¬¸ì œ ë¶„ì„ ìš”ì•½
  - í”¼ë¡œì—° ìž¥ì†Œì— ë™ì‹œì— ì¡´ìž¬í•˜ëŠ” ìµœëŒ€ ì¸ì›ìˆ˜ë¥¼ êµ¬í•˜ì„¸ìš”.
  - ì˜¤ëŠ” ì‹œê°„ 13, ê°€ëŠ” ì‹œê°„ 15ë¼ë©´ 13ì‹œ ì •ê°ì— í”¼ë¡œì—° ìž¥ì†Œì— ì¡´ìž¬í•˜ê³  15ì‹œ ì •ê°ì—ëŠ” ì¡´ìž¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

ðŸ’¡ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„
  - timesì˜ ìš”ì†Œ timeì„ ì €ìž¥í•˜ëŠ” í ì—­í• ì˜ ë³€ìˆ˜ queueë¥¼ ì„ ì–¸í•˜ê³  ë¹ˆë°°ì—´ë¡œ ì´ˆê¸°í™”í•œë‹¤.
  - timesë¥¼ ëë‚˜ëŠ” ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•œë‹¤. ë§Œì•½ ê°™ì€ ì‹œê°„ì— ëë‚˜ë©´ ì‹œìž‘ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•œë‹¤.
  - timesì˜ 0ë²ˆì§¸ ìš”ì†Œë¥¼ queueì— pushí•œë‹¤.
  - i = 1 ë¶€í„° times.length ë§Œí¼ì„ ë°˜ë³µí•˜ëŠ” ë°˜ë³µë¬¸ì„ ì„ ì–¸í•œë‹¤.
  - queueì˜ 0ë²ˆì§¸ ì¸ë±ìŠ¤ì˜ ì¢…ë£Œì‹œê°„ì´ í˜„ìž¬ ì¸ë±ìŠ¤ì˜ ì‹œìž‘ì‹œê°„ê³¼ ê°™ê±°ë‚˜ ìž‘ë‹¤ë©´ queueë¥¼ shiftí•œë‹¤.
  - í˜„ìž¬ ìš”ì†Œë¥¼ queueì— pushí•˜ê³  queueê°€ answerë³´ë‹¤ í¬ë‹¤ë©´ answerì— queueë¥¼ ëŒ€ìž…í•œë‹¤.
*/

function solution(times) {
  let answer = Number.MIN_SAFE_INTEGER;
  const queue = [];

  times.sort((a, b) => a[1] - b[1] || a[0] - b[0]);

  for (let i = 0; i < times.length; i++) {
    while (queue[0]?.[1] <= times[i][0]) {
      queue.shift();
    }

    queue.push(times[i]);

    if (queue.length > answer) {
      answer = queue.length;
    }
  }

  return answer;
}

let arr = [
  [14, 18],
  [12, 15],
  [15, 20],
  [20, 30],
  [5, 14],
];
console.log(solution(arr)); // 2

/*
âœ…ë¬¸ì œ ì œëª©: ê²°í˜¼ì‹

âœ…ë¬¸ì œ ìœ í˜•: ì •ë ¬

âœ…ë¬¸ì œ í’€ì´ ë‚ ì§œ: 2024-08-23

ðŸ’¡ë¬¸ì œ ë¶„ì„ ìš”ì•½
  - í”¼ë¡œì—° ìž¥ì†Œì— ë™ì‹œì— ì¡´ìž¬í•˜ëŠ” ìµœëŒ€ ì¸ì›ìˆ˜ë¥¼ êµ¬í•˜ì„¸ìš”.
  - ì˜¤ëŠ” ì‹œê°„ 13, ê°€ëŠ” ì‹œê°„ 15ë¼ë©´ 13ì‹œ ì •ê°ì— í”¼ë¡œì—° ìž¥ì†Œì— ì¡´ìž¬í•˜ê³  15ì‹œ ì •ê°ì—ëŠ” ì¡´ìž¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

ðŸ’¡ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„
  - í•˜ë‚˜ì˜ íƒ€ìž„ë¼ì¸ì„ ê´€ë¦¬í•  timeLineì„ ë¹ˆë°°ì—´ë¡œ ì´ˆê¸°í™”í•œë‹¤.
  - ê° ì¸ì›ì˜ ìž…ì‹¤ì‹œê°„ê³¼ í‡´ì‹¤ì‹œê°„ì„ ê°ê° ë¶„ë¦¬í•œë‹¤. ê·¸ë¦¬ê³  ìž…ì‹¤ì‹œê°„ì€ [ìž…ì‹¤ì‹œê°„, START_CODE], í‡´ì‹¤ì‹œê°„ì€ [í‡´ì‹¤ì‹œê°„, END_CODE]ìœ¼ë¡œ timeLineì— pushí•œë‹¤.
  - timeLineì„ ì •ë ¬í•˜ëŠ”ë° ìž…ì‹¤ì‹œê°„ê³¼ í‡´ì‹¤ì‹œê°„ì´ ê°™ë‹¤ë©´ í‡´ì‹¤ì‹œê°„ì´ ë” ì•žì— ì˜¤ê²Œ ì •ë ¬í•œë‹¤.
  - ë™ì‹œì— ì¡´ìž¬í•˜ëŠ” ì¸ì›ì„ ì €ìž¥í•  people ë³€ìˆ˜ë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤.
  - timeLineì„ ë°˜ë³µë¬¸ ëŒë©´ì„œ ìž…ì‹¤ì‹œê°„ì¼ ë•Œ peopleì„ 1 ë”í•˜ê³  í‡´ì‹¤ì‹œê°„ì¼ ë•Œ 1 ë¹¼ì¤€ë‹¤.
  - answerì™€ people ì¤‘ì—ì„œ í° ê°’ì„ answerì— í• ë‹¹í•œë‹¤.
*/

function solution2(times) {
  let answer = Number.MIN_SAFE_INTEGER;
  const START_CODE = 'START';
  const END_CODE = 'END';

  const timeLine = [];

  for (t of times) {
    timeLine.push([t[0], START_CODE]);
    timeLine.push([t[1], END_CODE]);
  }

  timeLine.sort((a, b) => a[0] - b[0] || a[1].charCodeAt() - b[1].charCodeAt());

  let people = 0;
  for (t of timeLine) {
    if (t[1] === START_CODE) {
      people++;
    } else {
      people--;
    }

    answer = Math.max(answer, people);
  }

  return answer;
}

console.log(solution2(arr)); // 2
